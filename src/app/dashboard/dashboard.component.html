<app-header></app-header>

<div class="container p-0">

  <br><div><img src="./assets/images/logo-3.png" alt="Logo" class="displayed" width="255"></div><br><br>

  <div class="projects">
    <h1 style="color: white">多Buscas un proyecto?</h1>
    <div class="row">
      <div class="col-4">
        <input [(ngModel)]="projectListFilter" ngDefaultControl type="text" class="form-control" id="projectFilterInput" placeholder="Buscar por nombre o descripcion">
      </div>&nbsp;
      <div class="col-2">
        <mat-form-field style="height:40px; background-color: white; border-radius: 4px; padding: 5px; font-size: 12px;">
          <mat-label>Buscar por categoria</mat-label>
          <mat-select [(ngModel)]="categorySelected" ngDefaultControl (valueChange)="setCategorySelected($event)" style="background-color: white">
            <mat-option [value]="''">TODAS LAS CATEGORIAS</mat-option>
            <mat-option [value]="category" *ngFor="let category of categories">{{category}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-2" style="padding-left: 40px">
        <mat-form-field style="height:40px; background-color: white; border-radius: 4px; padding: 5px; font-size: 12px;">
          <mat-label>Buscar por progreso</mat-label>
          <mat-select [(ngModel)]="progressSelected" ngDefaultControl (valueChange)="setProgressSelected($event)" style="background-color: white">
            <mat-option [value]="''">SIN FILTRO</mat-option>
            <mat-option [value]="'1'">%0 - %25</mat-option>
            <mat-option [value]="'2'">%25 - %50</mat-option>
            <mat-option [value]="'3'">%50 - %75</mat-option>
            <mat-option [value]="'4'">%75 - %100</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div><br>
    <div class="row" style="height: 300px; background-image: url(assets/images/background-paginator-4.jpg); border-radius: 4px;">
      <div class="col-12 col-md-6 col-lg-3" style="margin-top: 10px" *ngFor="let project of $projectValues
      |async |slice:((projectPaginator.pageIndex)*projectPaginator.pageSize):((projectPaginator.pageIndex+1)*projectPaginator.pageSize)">
        <div class="card">
          <div class="card-header px-4 pt-4">
            <div class="card-actions float-right">
              <div class="dropdown show"></div>
            </div>
            <h5 class="card-title mb-0" style="font-size: 15px; cursor: pointer" routerLink="/project-detail/{{project.id}}"><b>{{project.name}}</b></h5>
            <div id="project-category" class="badge bg-success my-2" style="height: 20px; font-size: 13px">{{project.category}}</div>
          </div>
          <div class="card-body px-4 pt-2" style="font-size: 13px">
            <p>{{project.description}}</p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item px-4 pb-4">
              <p class="mb-2 font-weight-bold">Progreso <span class="float-right">{{project.percentage}}%</span></p>
              <div class="progress progress-sm">
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" [style.width.%]="project.percentage">
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div><br>
  <mat-paginator [showFirstLastButtons]="true" #projectPaginator
                 [length]="projectsLength"
                 [pageSize]="pageSize"
                 (page)="projectPageEvent = $event">
  </mat-paginator><br>
  </div>

  <br><br>

  <div class="tasks">
    <h1 style="color: white">多Buscas una tarea?</h1>
    <div class="row">
      <div class="col-4">
        <input [(ngModel)]="taskListFilter" ngDefaultControl type="text" class="form-control" id="taskFilterInput" placeholder="Buscar por nombre o descripcion">
      </div>
      <div class="col-2">
        <mat-form-field style="height:40px; background-color: white; border-radius: 4px; padding: 5px; font-size: 12px;">
          <mat-label>Buscar por dificultad</mat-label>
          <mat-select [(ngModel)]="difficultySelected" ngDefaultControl (valueChange)="setDifficultySelected($event)" style="background-color: white">
            <mat-option [value]="''">TODAS LAS DIFICULTADES</mat-option>
            <mat-option [value]="difficulty" *ngFor="let difficulty of difficulties">{{difficulty}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-2" style="padding-left: 40px">
        <mat-form-field style="height:40px; background-color: white; border-radius: 4px; padding: 5px; font-size: 12px;">
          <mat-label>Buscar por recompensa</mat-label>
          <mat-select [(ngModel)]="rewardSelected" ngDefaultControl (valueChange)="setRewardSelected($event)" style="background-color: white">
            <mat-option [value]="''">SIN FILTRO</mat-option>
            <mat-option [value]="'1'">$0 - $100</mat-option>
            <mat-option [value]="'2'">$100 - $500</mat-option>
            <mat-option [value]="'3'">$500 - $1000</mat-option>
            <mat-option [value]="'4'">$1000 - $5000</mat-option>
            <mat-option [value]="'5'">$5000 - $10000</mat-option>
            <mat-option [value]="'6'">Mas de $10000</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div><br>
    <div class="row" style="height: 300px; background-image: url(assets/images/background-paginator-4.jpg); border-radius: 4px;">
      <div class="col-12 col-md-6 col-lg-3" style="margin-top: 10px" *ngFor="let task of $taskValues
      |async |slice:((taskPaginator.pageIndex)*taskPaginator.pageSize):((taskPaginator.pageIndex+1)*taskPaginator.pageSize)">
        <div class="card">
          <div class="card-header px-4 pt-4">
            <div class="card-actions float-right">
              <div class="dropdown show">
              </div>
            </div>
            <h5 class="card-title mb-0" style="font-size: 15px; cursor: pointer" routerLink="/task-detail/{{task.id}}"><b>{{task.name}}</b></h5>
            <div class="badge bg-danger my-2" style="height: 20px; font-size: 13px">{{task.difficulty}}</div>&nbsp;
            <div class="badge bg-info my-2" style="height: 20px; font-size: 13px">${{task.reward}}</div>
          </div>
          <div class="card-body px-4 pt-2" style="font-size: 13px">
            <p>{{task.description}}</p>
          </div>
        </div>
      </div>
    </div><br>
    <mat-paginator [showFirstLastButtons]="true" #taskPaginator
                   [length]="tasksLength"
                   [pageSize]="pageSize"
                   (page)="taskPageEvent = $event">
    </mat-paginator><br>
  </div>


  <!--<div class="projects">
  <h1 style="color: white">多Buscas un proyecto?</h1>
  <div class="row">
    <div class="col-12 col-md-6 col-lg-3" *ngFor="let project of projects">
      <div class="card">
        <div class="card-header px-4 pt-4">
          <div class="card-actions float-right">
            <div class="dropdown show">
            </div>
          </div>
          <h5 class="card-title mb-0"><b>{{project.name}}</b></h5>
          <div class="badge bg-success my-2">{{project.category}}</div>
        </div>
        <div class="card-body px-4 pt-2">
          <p>{{project.description}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item px-4 pb-4">
            <p class="mb-2 font-weight-bold">Progreso <span class="float-right">{{project.percentage}}%</span></p>
            <div class="progress progress-sm">
              <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" [style.width.%]="project.percentage">
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  </div>-->

  <!--<div class="tasks">
  <h1 style="color: white">多Buscas una tarea?</h1>
  <div class="row">
    <div class="col-12 col-md-6 col-lg-3" *ngFor="let task of tasks">
      <div class="card">
        <div class="card-header px-4 pt-4">
          <div class="card-actions float-right">
            <div class="dropdown show">
            </div>
          </div>
          <h5 class="card-title mb-0"><b>{{task.name}}</b></h5>
          <div class="badge bg-danger my-2">{{task.difficulty}}</div>&nbsp;
          <div class="badge bg-info my-2">${{task.reward}}</div>
        </div>
        <div class="card-body px-4 pt-2">
          <p>{{task.description}}</p>
        </div>
      </div>
    </div>
  </div>
  </div>-->

</div>
